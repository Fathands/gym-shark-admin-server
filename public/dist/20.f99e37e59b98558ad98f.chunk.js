webpackJsonp([20],{260:function(e,t,n){"use strict";function s(e){c||n(509)}Object.defineProperty(t,"__esModule",{value:!0});var o=n(391),r=n.n(o);for(var i in o)"default"!==i&&function(e){n.d(t,e,function(){return o[e]})}(i);var a=n(511),l=n.n(a),c=!1,u=n(4),p=s,d=u(r.a,l.a,!1,p,null,null);d.options.__file="src/views/login.vue",t.default=d.exports},391:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=n(9),o=function(e){return e&&e.__esModule?e:{default:e}}(s);t.default={data:function(){return{is_login:!0,form:{userName:"",password:""},rules:{userName:[{required:!0,message:"账号不能为空",trigger:"blur"}],password:[{required:!0,message:"密码不能为空",trigger:"blur"}]}}},methods:{handleSubmit:function(){var e=this;this.$refs.loginForm.validate(function(t){t&&e.$http.post("users/login",{username:e.form.userName,password:e.form.password}).then(function(t){o.default.set("user",e.form.userName),o.default.set("password",e.form.password),e.$store.commit("setAvator","https://ss1.bdstatic.com/70cFvXSh_Q1YnxGkpoWK1HF6hhy/it/u=3448484253,3685836170&fm=27&gp=0.jpg"),o.default.set("access",t.data.roles[0]),e.$Message.success(t.msg),e.$router.push({name:"home_index"})}).catch(function(e){})})},handleRegister:function(){var e=this;this.$refs.loginForm.validate(function(t){t&&e.$http.post("users/register",{username:e.form.userName,password:e.form.password}).then(function(t){e.is_login=!0,e.$Message.success(t.msg)}).catch(function(e){})})}}}},509:function(e,t,n){var s=n(510);"string"==typeof s&&(s=[[e.i,s,""]]),s.locals&&(e.exports=s.locals);n(18)("79d46056",s,!1)},510:function(e,t,n){t=e.exports=n(17)(!1),t.push([e.i,"\n.login {\n  width: 100%;\n  height: 100%;\n  background-image: url('https://file.iviewui.com/iview-admin/login_bg.jpg');\n  background-size: cover;\n  background-position: center;\n  position: relative;\n}\n.login-con {\n  position: absolute;\n  right: 160px;\n  top: 50%;\n  -webkit-transform: translateY(-60%);\n          transform: translateY(-60%);\n  width: 300px;\n}\n.login-con-header {\n  font-size: 16px;\n  font-weight: 300;\n  text-align: center;\n  padding: 30px 0;\n}\n.login-con .form-con {\n  padding: 10px 0 0;\n}\n.login-con .login-tip {\n  font-size: 10px;\n  text-align: center;\n  color: #c3c3c3;\n}\n",""])},511:function(e,t,n){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var s=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login",on:{keydown:function(t){if(!("button"in t)&&e._k(t.keyCode,"enter",13,t.key))return null;e.handleSubmit(t)}}},[n("div",{staticClass:"login-con"},[n("Card",{attrs:{bordered:!1}},[n("p",{attrs:{slot:"title"},slot:"title"},[n("Icon",{attrs:{type:"log-in"}}),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.is_login,expression:"!is_login"}]},[e._v("注册")]),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:e.is_login,expression:"is_login"}]},[e._v("欢迎登录")])],1),e._v(" "),n("div",{staticClass:"form-con"},[n("Form",{ref:"loginForm",attrs:{model:e.form,rules:e.rules}},[n("FormItem",{attrs:{prop:"userName"}},[n("Input",{attrs:{placeholder:"请输入用户名"},model:{value:e.form.userName,callback:function(t){e.$set(e.form,"userName",t)},expression:"form.userName"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[n("Icon",{attrs:{size:16,type:"person"}})],1)])],1),e._v(" "),n("FormItem",{attrs:{prop:"password"}},[n("Input",{attrs:{type:"password",placeholder:"请输入密码"},model:{value:e.form.password,callback:function(t){e.$set(e.form,"password",t)},expression:"form.password"}},[n("span",{attrs:{slot:"prepend"},slot:"prepend"},[n("Icon",{attrs:{size:14,type:"locked"}})],1)])],1),e._v(" "),n("FormItem",[n("span",{directives:[{name:"show",rawName:"v-show",value:e.is_login,expression:"is_login"}],staticClass:"login"},[n("Button",{attrs:{type:"primary",long:""},on:{click:e.handleSubmit}},[e._v("登录")]),e._v(" "),n("div",{staticStyle:{margin:"10px 0"}}),e._v(" "),n("Button",{attrs:{type:"info",long:""},on:{click:function(t){e.is_login=!1}}},[e._v("注册")])],1),e._v(" "),n("span",{directives:[{name:"show",rawName:"v-show",value:!e.is_login,expression:"!is_login"}],staticClass:"register"},[n("Button",{attrs:{type:"primary",long:""},on:{click:e.handleRegister}},[e._v("提交")]),e._v(" "),n("div",{staticStyle:{margin:"10px 0"}}),e._v(" "),n("Button",{attrs:{long:""},on:{click:function(t){e.is_login=!0}}},[e._v("返回")])],1)])],1),e._v(" "),n("p",{staticClass:"login-tip"},[e._v("输入任意用户名和密码即可")])],1)])],1)])},o=[];s._withStripped=!0;var r={render:s,staticRenderFns:o};t.default=r}});